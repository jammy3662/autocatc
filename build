#!/bin/bash

CLANG_FLAGS="\
-Wno-deprecated -Wunneeded-internal-declaration -g3"

mkdir -p generated
cd generated

SRC="../src"

bison -dt \
	$SRC/cat.y \
	--report=states,lookaheads,solved \
	&&

flex --nounput $SRC/cat.l && \

cd ..

clang++ $CLANG_FLAGS \
	-I src -I generated \
	generated/lex.cat.c \
	generated/cat.tab.c \
	src/*.cc \
	-o autocatc
